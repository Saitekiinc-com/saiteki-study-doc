# Lv.4 エキスパート: アーキテクチャ・技術選定

Lv.4のゴールは、<strong>「スケーラブルなシステムアーキテクチャを設計し、適切な技術選定ができること」</strong>です。
ビジネス要件に合わせて、モノリスからマイクロサービス、クラウドネイティブな構成までを検討します。

## 1. システムアーキテクチャ
全体の構造を設計します。

### 学習項目
*   **アーキテクチャパターン**:
    *   クリーンアーキテクチャ (Clean Architecture)。
    *   ドメイン駆動設計 (DDD) の基礎。
*   **モノリス vs マイクロサービス**:
    *   それぞれのメリット・デメリットと採用基準。
    *   分散システムにおける課題（データ整合性、トランザクション）。

### チェックリスト
- [ ] 依存性逆転の原則 (DIP) を使って、インフラ層への依存を排除できる。
- [ ] ドメインモデルとデータモデルの違いを説明できる。

## 2. 非同期処理とメッセージング
スケーラビリティと耐障害性を高めます。

### 学習項目
*   **メッセージキュー**:
    *   RabbitMQ, Kafka, SQS などの利用。
    *   プロデューサーとコンシューマーパターン。
*   **非同期ジョブ**:
    *   メール送信や画像処理などの重い処理をバックグラウンドで実行する。

### チェックリスト
- [ ] APIのレスポンス速度を落とさないために、重い処理を非同期キューに逃がす設計ができる。
- [ ] ジョブが失敗した場合のリトライ戦略（デッドレターキューなど）を設計できる。

## 3. インフラと運用 (DevOps)
コードだけでなく、動く環境まで責任を持ちます。

### 学習項目
*   **コンテナ化**:
    *   Dockerを使った開発環境と本番環境の統一。
*   **CI/CD**:
    *   GitHub Actionsなどを使った自動テスト・自動デプロイパイプライン。
*   **可観測性 (Observability)**:
    *   ログ、メトリクス、トレーシング (OpenTelemetry) の収集。

### チェックリスト
- [ ] Dockerfileを書いて、アプリケーションをコンテナイメージとしてビルドできる。
- [ ] サーバーのCPU使用率やメモリ使用率を監視し、アラートを設定できる。
